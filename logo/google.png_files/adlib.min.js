var isMobile=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|webOS|BlackBerry|IEMobile|Opera Mini)/i);let vidCnt,fpsValue=30,ua=navigator.userAgent,np=navigator.platform;function enablerInitHandler(){initDynamic(),setTimeout(function(){Adlib.createAd(creativeSize)},100);var e=new CustomEvent("adinitialized");document.dispatchEvent(e)}function checkEnvironment(){let e;return Enabler.isServingInLiveEnvironment()?"studio":"tools"}window.gwd=window.gwd||{},gwd.auto_PauseBtnClick=function(e){gsap.globalTimeline.pause()},gwd.auto_PlayBtnClick=function(e){gsap.globalTimeline.resume()},window.onload=function(){Enabler.isInitialized()?enablerInitHandler():Enabler.addEventListener(studio.events.StudioEvent.INIT,enablerInitHandler)},function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}();var id=window.location.hash.split("=")[1]||0;function takeScreenshot(){"tools"==checkEnvironment()?console.log("take screenshot"):checkEnvironment();var e=window.innerWidth,t=window.innerHeight;try{var i=window.parent.document.getElementById("adlib-screenshot-preview").offsetLeft,n=window.parent.document.getElementById("adlib-screenshot-preview").offsetTop;parent.postMessage({type:"SCREENSHOT",data:{iframeX:i,iframeY:n,iframeHeight:t,iframeWidth:e}},"*")}catch(l){}}function adlibStart(){"tools"==checkEnvironment()?console.log("screenshotter start"):checkEnvironment(),parent.postMessage({type:"SCREENSHOT_START",id:id},"*"),Adlib.localTimeline("PLAY")}function adlibEnd(){"tools"==checkEnvironment()?console.log("screenshotter end"):checkEnvironment(),parent.postMessage({type:"SCREENSHOT_STOP",id:id},"*"),Adlib.localTimeline("END")}function detectObj(e){return e[Object.keys(e)]}let Adlib={timelineEvent:null,localTimeline:function(e){if(e=e||null,"file:"==window.location.protocol||"http://localhost"==window.location.origin||"127.0.0.1"==window.location.hostname)switch(e){case"PLAY":if(null==_obj.timelineEvent){var t="0.0";_obj.timelineEvent=setInterval(function(){t=gsap.globalTimeline.time().toFixed(1)>.5?gsap.globalTimeline.time().toFixed(1):t,document.getElementById("_adlibTimeline").innerHTML=t},100)}break;case"PAUSE":clearInterval(_obj.timelineEvent),_obj.timelineEvent=null;break;case"END":clearInterval(_obj.timelineEvent),_obj.timelineEvent=null,document.getElementById("_adlibBtnPlay").style.display="none",document.getElementById("_adlibBtnPause").style.display="none",document.getElementById("_adlibBtnReplay").style.display="block"}},localTesting:function(e){if("file:"!=window.location.protocol&&"http://localhost"!=window.location.origin&&"127.0.0.1"!=window.location.hostname)return!1;{let t=e.split("x"),i=Number(t[0]),n=Number(t[1]),l=n+20,o=n+5,a=1,r=i<160?10:13,_="https://beta.ad-lib.io/static/media/logo.19626aac.svg",d='<svg enable-background="new 0 0 24 24" height="'+r+'px" width="'+r+'px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m4.5 3c-.128 0-.256-.049-.354-.146l-1.646-1.647-1.646 1.647c-.195.195-.512.195-.707 0s-.195-.512 0-.707l2-2c.195-.195.512-.195.707 0l2 2c.195.195.195.512 0 .707-.098.097-.226.146-.354.146z"/><path fill="currentColor" d="m21.5 24c-.128 0-.256-.049-.354-.146-.195-.195-.195-.512 0-.707l1.646-1.646-1.646-1.646c-.195-.195-.195-.512 0-.707s.512-.195.707 0l2 2c.195.195.195.512 0 .707l-2 2c-.097.096-.225.145-.353.145z"/><path fill="currentColor" d="m2.5 24c-.276 0-.5-.224-.5-.5v-22.75c0-.276.224-.5.5-.5s.5.224.5.5v22.75c0 .276-.224.5-.5.5z"/><path fill="currentColor" d="m23.25 22h-22.75c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h22.75c.276 0 .5.224.5.5s-.224.5-.5.5z"/><path fill="currentColor" d="m13 10c-.061 0-.122-.011-.18-.033l-6.5-2.5c-.193-.074-.32-.26-.32-.467s.127-.393.32-.467l6.5-2.5c.115-.044.244-.044.359 0l6.5 2.5c.194.074.321.26.321.467s-.127.393-.32.467l-6.5 2.5c-.058.022-.119.033-.18.033zm-5.107-3 5.107 1.964 5.107-1.964-5.107-1.964z"/><path fill="currentColor" d="m13 18c-.061 0-.122-.011-.18-.033l-6.5-2.5c-.193-.074-.32-.26-.32-.467v-8c0-.276.224-.5.5-.5s.5.224.5.5v7.657l6 2.308 6-2.308v-7.657c0-.276.224-.5.5-.5s.5.224.5.5v8c0 .207-.127.393-.32.467l-6.5 2.5c-.058.022-.119.033-.18.033z"/><path fill="currentColor" d="m13 18c-.276 0-.5-.224-.5-.5v-8c0-.276.224-.5.5-.5s.5.224.5.5v8c0 .276-.224.5-.5.5z"/></svg>',c='<svg xmlns="http://www.w3.org/2000/svg" height="'+r+'px" width="'+r+'px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;"><path fill="currentColor" d="M347.216,301.211l-71.387-53.54V138.609c0-10.966-8.864-19.83-19.83-19.83c-10.966,0-19.83,8.864-19.83,19.83v118.978c0,6.246,2.935,12.136,7.932,15.864l79.318,59.489c3.569,2.677,7.734,3.966,11.878,3.966c6.048,0,11.997-2.717,15.884-7.952C357.766,320.208,355.981,307.775,347.216,301.211z"/><path fill="currentColor" d="M256,0C114.833,0,0,114.833,0,256s114.833,256,256,256s256-114.833,256-256S397.167,0,256,0z M256,472.341c-119.275,0-216.341-97.066-216.341-216.341S136.725,39.659,256,39.659c119.295,0,216.341,97.066,216.341,216.341S375.275,472.341,256,472.341z"/></svg>',$='<svg enable-background="new 0 0 320.001 320.001" height="'+r+'px" width="'+r+'px" viewBox="0 0 320.001 320.001" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m295.84 146.049-256-144c-4.96-2.784-11.008-2.72-15.904.128-4.928 2.88-7.936 8.128-7.936 13.824v288c0 5.696 3.008 10.944 7.936 13.824 2.496 1.44 5.28 2.176 8.064 2.176 2.688 0 5.408-.672 7.84-2.048l256-144c5.024-2.848 8.16-8.16 8.16-13.952s-3.136-11.104-8.16-13.952z"/></svg>',s='<svg viewBox="-45 0 327 327" height="'+r+'px" width="'+r+'px" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m158 0h71c4.417969 0 8 3.582031 8 8v311c0 4.417969-3.582031 8-8 8h-71c-4.417969 0-8-3.582031-8-8v-311c0-4.417969 3.582031-8 8-8zm0 0"/><path fill="currentColor" d="m8 0h71c4.417969 0 8 3.582031 8 8v311c0 4.417969-3.582031 8-8 8h-71c-4.417969 0-8-3.582031-8-8v-311c0-4.417969 3.582031-8 8-8zm0 0"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" height="'+r+'px" width="'+r+'px" viewBox="0 0 491.236 491.236" style="enable-background:new 0 0 491.236 491.236;"><path fill="currentColor" d="M55.89,262.818c-3-26-0.5-51.1,6.3-74.3c22.6-77.1,93.5-133.8,177.6-134.8v-50.4c0-2.8,3.5-4.3,5.8-2.6l103.7,76.2c1.7,1.3,1.7,3.9,0,5.1l-103.6,76.2c-2.4,1.7-5.8,0.2-5.8-2.6v-50.3c-55.3,0.9-102.5,35-122.8,83.2c-7.7,18.2-11.6,38.3-10.5,59.4c1.5,29,12.4,55.7,29.6,77.3c9.2,11.5,7,28.3-4.9,37c-11.3,8.3-27.1,6-35.8-5C74.19,330.618,59.99,298.218,55.89,262.818zM355.29,166.018c17.3,21.5,28.2,48.3,29.6,77.3c1.1,21.2-2.9,41.3-10.5,59.4c-20.3,48.2-67.5,82.4-122.8,83.2v-50.3c0-2.8-3.5-4.3-5.8-2.6l-103.7,76.2c-1.7,1.3-1.7,3.9,0,5.1l103.6,76.2c2.4,1.7,5.8,0.2,5.8-2.6v-50.4c84.1-0.9,155.1-57.6,177.6-134.8c6.8-23.2,9.2-48.3,6.3-74.3c-4-35.4-18.2-67.8-39.5-94.4c-8.8-11-24.5-13.3-35.8-5C348.29,137.718,346.09,154.518,355.29,166.018z"/></svg>',f=document.getElementsByTagName("BODY")[0];if(window.self===window.top)return f.style.background="#e3e8ee",f.innerHTML='<div style="display:none;">'+f.innerHTML+"</div>",f.innerHTML+='<div style="background:#1e0032;height:60px;text-align:center;"><div style="padding-top:5px;"><img style="width:320px;height:auto;" src="'+_+'"/></div></div><div id="_localPreview" style="margin-bottom:70px;"><div style="display:block;margin:20px auto;width:'+(i+22)+"px;height:"+(l+22)+'px;overflow:hidden;border:1px solid #bdbaba;border-radius:5.5px;padding:10px;background:white;box-shadow: 0 1px 15px 1px rgb(90 90 90 / 8%);"><iframe id="localpreview'+a+'" name="localpreview'+a+"\" frameborder='0' scrolling='no' width=\""+i+'px" height="'+l+'px" src="'+window.location+'"></iframe></div></div>',!0;var p=i<170?"10px":"12px",m=i<170?"-2px":"-1.5px";return f.innerHTML+='<div id="playPause" style="height:30px;width:'+i+"px;position:absolute;top:"+o+'px;"><span style="position:absolute;left:0;color:#444343;font-size:'+p+';font-family:Arial;color:#1e0032;"><span>'+d+'</span> <b style="position:relative;top:'+m+';">'+e+'</b>&nbsp;&nbsp;<span style="color:#1e0032;">'+c+'</span> <b id="_adlibTimeline" style="position:relative;top:'+m+';">0.0</b></span><div style="position:absolute;right:0;font-size:'+p+';"><span style="display:none;color:#1e0032;" id="_adlibBtnPlay">'+$+'</span> <span style="display:none;color:#1e0032;" id="_adlibBtnPause">'+s+'</span> <span style="color:#1e0032;" id="_adlibBtnReplay">'+u+"</span></div></div>",setTimeout(function(){document.getElementById("_adlibBtnPause").style.display="inline",document.getElementById("_adlibBtnPlay").addEventListener("click",function(){this.style.display="none",document.getElementById("_adlibBtnPause").style.display="inline",gwd.auto_PlayBtnClick(),_obj.localTimeline("PLAY")}),document.getElementById("_adlibBtnPause").addEventListener("click",function(){this.style.display="none",document.getElementById("_adlibBtnPlay").style.display="inline",gwd.auto_PauseBtnClick(),_obj.localTimeline("PAUSE")}),document.getElementById("_adlibBtnReplay").addEventListener("click",function(){window.location.reload(!0)})},1),!1}},assignInvocationCode:function(){let campaign="dynamicContent."+Object.keys(devDynamicContent)[0]+"[0].";for(let i=0;i<DV.length;i++){let url=detectObj(Object(eval(campaign+DV[i]))),val=eval(campaign+DV[i]);String(url).indexOf("http")>-1?defaultValues[DV[i]]=String(url):defaultValues[DV[i]]=val}},createAd:function(e){if(!1==_obj.localTesting(e)){if(document.getElementById("adSize").setAttribute("content","width="+e.split("x")[0]+", height="+e.split("x")[1]),document.querySelector("#mainContent").setAttribute("style","width:"+e.split("x")[0]+"px;height:"+e.split("x")[1]+"px"),null!=isMobile){let t=(e,t)=>{e.addEventListener("touchstart",()=>{e.addEventListener("touchend",t,{once:!0})}),e.addEventListener("touchmove",()=>{e.removeEventListener("touchend",t)})};t(document.getElementById("exitButton"),()=>exitCall())}else document.querySelector("#exitButton").addEventListener("click",exitCall);populate(),_obj.dvLoader(),_obj.verifyDVLoaded(_obj.imgLoader)}},populateElements:function(){let e=document.querySelectorAll("body *");for(var t=0;t<e.length;t++)null!=e[t].getAttribute("adlib-text")&&(Adlib.isEmpty(defaultValues[e[t].getAttribute("adlib-text")])?document.querySelector("#"+e[t].id).style.display="none":document.querySelector("#"+e[t].id).innerHTML=defaultValues[e[t].getAttribute("adlib-text")]),null!=e[t].getAttribute("adlib-image")&&(void 0!=defaultValues[e[t].getAttribute("adlib-image")].length?document.querySelector("#"+e[t].id).src=defaultValues[e[t].getAttribute("adlib-image")]:defaultValues[e[t].getAttribute("adlib-image")]="blank.png")},imgLoader:function(){for(var e=document.images,t=e.length,i=0,n=0;n<e.length;n++)e[n].complete?l():e[n].addEventListener("load",l,!1);function l(){++i===t&&_obj.loadAd()}0===t&&_obj.loadAd()},dvLoader:function(){if("undefined"!=typeof ADLBIsJsBanner)var e=setInterval(function(){window.ADLBIsJsBanner&&(clearInterval(e),_isPass=!0)},1);else _isPass=!0},verifyDVLoaded:function(e){var t=setInterval(function(){_isPass&&(clearInterval(t),e())},1)},fpsSettings:function(e){fpsValue=e},loadAd:function(){gsap.ticker.fps(fpsValue),adlibStart(),setTimeout(function(){initAnimation()},_obj.preloadDelay)},textResize:function(){let e=document.querySelectorAll("body *");for(var t=0;t<e.length;t++){var i=e[t].getAttribute("textResize");if(void 0!=i&&null!=i){let n=Number(e[t].getAttribute("maxFontSize")),l=document.querySelector("#"+e[t].id+" p"),o=n,a=n,r=defaultValues[e[t].firstElementChild.getAttribute("adlib-text")].indexOf("font-size");if(l.style.fontSize=e[t].getAttribute("maxFontSize")+"px","TRUE"==i.toUpperCase()){for(;l.offsetHeight>document.querySelector("#"+e[t].id).offsetHeight&&r<0;)if(l.style.fontSize=parseInt(window.getComputedStyle(l).fontSize)-1+"px",(a-=1)<5){console.warn("Infinite Loop [ID: "+e[t].id+"] height.");break}for(;l.offsetWidth>document.querySelector("#"+e[t].id).offsetWidth&&r<0;)if(l.style.fontSize=parseInt(window.getComputedStyle(l).fontSize)-1+"px",(o-=1)<5){console.warn("Infinite Loop [ID: "+e[t].id+"] width.");break}}}}},isEmpty:function(e){let t=!1,i=["n/a","N/A","none","null","&nbsp;"," n/a",""," ","n/A","N/a"];for(let n=0;n<i.length;n++){if(e==i[n]){t=!0;break}t=!1}return t},templateCSS:function(e){let t=document.head||document.getElementsByTagName("head")[0];if(e){let i=document.querySelectorAll("body *");for(var n=0;n<i.length;n++)i[n].classList.add(_obj.checkDeviceAndBrowser());let l=document.createElement("style");l.type="text/css",l.appendChild(document.createTextNode(e)),t.appendChild(l)}},utmParser:function(e){var e,t=Enabler.getDartPageId(),i=Enabler.getDartSiteName(),n=Enabler.getDartSiteId(),l=Enabler.getDartAdId(),o=Enabler.getParameter("buy"),a=Enabler.getParameter("adv"),r=Enabler.getDartCreativeId();return e.replace(/dynamicPlacementIdUTM/g,t).replace(/dynamicSiteNameUTM/g,i).replace(/dynamicSiteIdUTM/g,n).replace(/dynamicAdIdUTM/g,l).replace(/dynamicCampaignIdUTM/g,o).replace(/dynamicAdvertiserIdUTM/g,a).replace(/dynamicCreativeIdUTM/g,r).replace(/amp;/g,"")},getStyle:function(o,prop){return parseInt(_win.getComputedStyle(eval(o)).getPropertyValue(prop).match(/\d+/))},checkDeviceAndBrowser:function(){if(np.indexOf("Win")>-1){if(document.documentMode)return"winIE";if(ua.indexOf("Chrome")>-1||window.chrome&&window.chrome.webstore)return"winChrome";if(ua.indexOf("Firefox")>-1||"undefined"!=typeof InstallTrigger)return"winFirefox"}else if(navigator.maxTouchPoints>=5&&np.indexOf("Mac")>-1){if(ua.indexOf("Safari")>-1)return"ipadSafari";if(ua.indexOf("Chrome")>-1)return"ipadChrome";if(ua.indexOf("Firefox")>-1)return"ipadFirefox"}else if(np.indexOf("Mac")>-1){if(ua.indexOf("Chrome")>-1)return"macChrome";if(ua.indexOf("Firefox")>-1)return"macFirefox";if(ua.indexOf("Safari")>-1)return"macSafari"}else if(np.indexOf("iPhone")>-1){if(ua.indexOf("Safari")>-1)return"iphoneSafari";if(ua.indexOf("Chrome")>-1)return"iphoneChrome";if(ua.indexOf("Firefox")>-1)return"iphoneFirefox"}else if(np.indexOf("Linux")>-1&&(ua.indexOf("Mobile")>-1||ua.indexOf("SM-G")>-1||ua.indexOf("GT-")>-1||ua.indexOf("SM-N")>-1||ua.indexOf("Pixel")>-1||ua.indexOf("moto")>-1||ua.indexOf("Redmi")>-1||ua.indexOf("vivo")>-1||ua.indexOf("SM-S")>-1)){if(ua.indexOf("Chrome")>-1)return"androidPhoneChrome";if(ua.indexOf("Firefox")>-1)return"androidPhoneFirefox"}else if(np.indexOf("Linux")>-1||ua.indexOf("SM-T")>-1||ua.indexOf("Nexus")>-1||ua.indexOf("SM-X")>-1){if(ua.indexOf("Chrome")>-1)return"androidTabletChrome";if(ua.indexOf("Firefox")>-1)return"androidTabletFirefox"}},remove_tags:function(e,t){var i=0;!0==t&&(e=e.replace(/(<|&lt;)br\s*\/*(>|&gt;)/g,function(){return i+=1,"||br||"}));var n=document.createElement("DIV");for(n.innerHTML=e,e=n.textContent||n.innerText;i>0;)e=e.replace("||br||","<br>"),i--;return e},preloadDelay:2e3};const _obj=Adlib,_win=this,DV=Object.keys(defaultValues);